# 文件分类浏览器

## 介绍



## 截图

![image](https://github.com/autodotua/ClassifyFiles/blob/master/Image/MainWindow_Light.png)

![image](https://github.com/autodotua/ClassifyFiles/blob/master/Image/MainWindow_Dark.png)

## 特性

- 使用.Net Core 3.1 + WPF + SQLite+EFCore 开发
- 使用WinUI风格的界面

## 计划任务

- 对树状视图增加标签按钮
- 使文件Viewer能够拖放进去
- 在标签设置页面能够对文件进行设置标签
- 标签设置页面显示缩略图的所有文件

## 更新日志

### 2020-05-10

开始项目

由《网页内容变动提醒》进行拆除

### 2020-05-11

完成主界面的框架

完成分类树形图的逻辑和显示

基本完成分类设置的匹配条件设置

### 2020-05-12

基本完成了分类树状图的新增和删除

完成分类的重命名

基本完成对文件的枚举分类工具方法

完成文件浏览界面基本功能，包括项目的名称显示、根目录设置

基本完成使用列表视图和图标视图来显示文件。

 ### 2020-05-13

基本完成使用图标视图时的内存分页（图标视图应该没有虚拟化，很卡）

新增树状视图

基本完成对图片缩略图的显示

### 2020-05-14

将图标和缩略图封装为组件，并为三个视图都应用了该组件

新增列表视图支持滚轮缩放

修改了分页按钮样式

新增项目的新建

新增右键打开目录菜单

列表视图新增组合框，用于跳转到指定目录的文件位置

新增Ctrl+滚轮实现图标视图的缩放功能

重写了缩略图策略，改为在枚举文件时就获取缩略图，并使用数据库BLOB保存缩略图

过滤方式新增正则表达式相关、文件大小限制、文件修改时间限制

### 2020-05-26

将控件库从MaterialDesign改为ModernWpf，基本完成主要修改

### 2020-05-27

完全清除了MaterialDesign库

新增对于没有缩略图的文件，根据文件类型提供不同的图标，对于文件夹提供文件夹图标

新增了单独的项目设置页

支持了图标视图根据文件夹跳转

修改了一些逻辑

为处理中Ring的覆盖层加了动画

### 2020-05-28

新增了导出为快捷方式或副本的功能

修复了一些BUG，优化了一些功能

### 2020-05-28

支持了导入和导出数据库（项目）的功能

支持了一键删除所有项目

### 2020-06-01

修复了项目设置界面的布局错误

新增可以使用按钮+对话框选择根目录

修改文件浏览界面的左侧分类列表为Expander

新增错误提示框

支持了对单个类进行刷新

### 2020-07-02

为了增加标签模式，大幅度修改了代码，对某些类和界面进行了抽象，新增了一些父类，对文件浏览块进行了封装

修改Class，从树状结构修改为顺序结构

### 20200703

标签类型的显示和管理有了一个样子，可以勉强使用了。基本完成了显示和设置界面。

新增了启动界面，因为主界面打开太慢了。

-------

越写越乱，于是决定再次“重构”。合并了Class和Tag，修改了不同Class同一个文件使用同一个File的设定。
一个物理文件使用一个File，File和Class使用FileClass类进行多对多连接。

没想到，一个下午+晚上，竟然把程序改到能打开并且基本功能正常的底部了。

### 20200704

修复了新建文件时，File的Dir会从\起头的BUG

修复了更新文件的一些BUG，比如文件会重复等

新增删除项目所有文件的功能

项目设置界面新增数据库记录数量的显示

新增显示全部文件按钮

修复了在项目之间快速切换会同时访问数据库导致出错的BUG（实质是Base类中记忆的问题）

修复了无法双击打开文件的BUG（在新建UIFile的时候，没有赋值Project）

列表支持了多选

新增通过右键菜单来选择和取消选择文件的类别（新增了FileClass的Disabled字段，保证重新刷新以后仍然不会被加入该类）

优化图标显示，图标大小将和缩略图大小一样支持自动缩放

修复了将文件添加到类时，会造成一个项目中多个文件对象、一个类中多个文件对象的BUG

新增在标签上按鼠标中键删除标签的功能